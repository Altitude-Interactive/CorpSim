########################################
# Global / Environment
########################################
NODE_ENV=development
APP_NAME=CorpSim
WEB_PORT=4311
API_PORT=4310
APP_URL=http://localhost:4311
API_URL=http://localhost:4310
CORS_ORIGIN=http://localhost:4311

########################################
# Next.js Telemetry (set to 1 to disable)
########################################
NEXT_TELEMETRY_DISABLED=0

########################################
# Database (PostgreSQL / Prisma)
########################################
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/corpsim
DB_HOST=localhost
DB_PORT=5432
DB_NAME=corpsim
DB_USER=postgres
DB_PASSWORD=postgres
ENFORCE_SCHEMA_READINESS=true
PRISMA_MIGRATIONS_DIR=

########################################
# Redis (queues, cache, ticks)
########################################
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_USERNAME=
REDIS_PASSWORD=
REDIS_TLS=false

########################################
# Auth (future-proof even if solo)
########################################
JWT_SECRET=change_me_dev_only
SESSION_SECRET=change_me_dev_only
BETTER_AUTH_SECRET=replace_with_at_least_32_random_chars
BETTER_AUTH_URL=http://localhost:4310
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_AUTH_PROMPT=select_account
GOOGLE_AUTH_ACCESS_TYPE=online
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
AUTH_RATE_LIMIT_ENABLED=true
AUTH_RATE_LIMIT_STORAGE=memory
AUTH_RATE_LIMIT_WINDOW_SECONDS=60
AUTH_RATE_LIMIT_MAX_REQUESTS=120
AUTH_RATE_LIMIT_SIGN_IN_WINDOW_SECONDS=300
AUTH_RATE_LIMIT_SIGN_IN_MAX_REQUESTS=8
AUTH_RATE_LIMIT_SIGN_UP_WINDOW_SECONDS=900
AUTH_RATE_LIMIT_SIGN_UP_MAX_REQUESTS=5
AUTH_RATE_LIMIT_TWO_FACTOR_WINDOW_SECONDS=300
AUTH_RATE_LIMIT_TWO_FACTOR_MAX_REQUESTS=10
AUTH_RATE_LIMIT_PASSWORD_RESET_WINDOW_SECONDS=900
AUTH_RATE_LIMIT_PASSWORD_RESET_MAX_REQUESTS=5
AUTH_IP_ADDRESS_HEADERS=x-client-ip,x-forwarded-for,cf-connecting-ip,x-real-ip,true-client-ip,fly-client-ip
AUTH_IPV6_SUBNET=64

########################################
# Simulation / Game Engine
########################################
TICK_INTERVAL_MS=60000
SIMULATION_SPEED=1
TICK_EXECUTION_RETENTION_TICKS=100000
TICK_EXECUTION_CLEANUP_EVERY_TICKS=100
DEMAND_SINK_ENABLED=true
DEMAND_SINK_ITEMS=HAND_TOOLS,MACHINE_PARTS,TOOL_KIT,POWER_UNIT,CONVEYOR_MODULE,INDUSTRIAL_PRESS
DEMAND_SINK_BASE_QUANTITY_PER_COMPANY=1
DEMAND_SINK_VARIABILITY_QUANTITY=2
BOT_COUNT=25
BULLMQ_PREFIX=corpsim
BULLMQ_QUEUE_NAME=simulation.tick
BULLMQ_SCHEDULER_ID=simulation-tick-scheduler
BULLMQ_JOB_NAME=simulation.tick.process
BULLMQ_SCHEDULER_ENABLED=true
BULLMQ_WORKER_ENABLED=true
BULLMQ_WORKER_CONCURRENCY=1
BULLMQ_JOB_ATTEMPTS=1
BULLMQ_JOB_BACKOFF_MS=1000
BULLMQ_REMOVE_ON_COMPLETE=500
BULLMQ_REMOVE_ON_FAIL=1000
COMPANY_SPECIALIZATION_CHANGE_COOLDOWN_HOURS=4

########################################
# Frontend (Next.js public vars)
########################################
NEXT_PUBLIC_API_URL=http://localhost:4310
NEXT_PUBLIC_APP_NAME=CorpSim
NEXT_PUBLIC_COMPANY_SPECIALIZATION_CHANGE_COOLDOWN_HOURS=4
NEXT_PUBLIC_AUTH_GOOGLE_ENABLED=false
NEXT_PUBLIC_AUTH_GITHUB_ENABLED=false
NEXT_PUBLIC_AUTH_MICROSOFT_ENABLED=false

########################################
# Logging / Debug
########################################
LOG_LEVEL=debug
ENABLE_METRICS=false
CORPSIM_OPS_TOKEN=

########################################
# Docker / Deployment helpers
########################################
APP_IMAGE_REPO=ghcr.io/altitude-interactive/corpsim
APP_IMAGE_TAG=latest
POSTGRES_DB=corpsim
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
